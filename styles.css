<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>88 键在线钢琴</title>
    <style>
        body {
            text-align: center;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .piano {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }
        .key {
            width: 24px;
            height: 120px;
            margin: 0 1px;
            border: 1px solid #000;
            display: inline-block;
            background: white;
            position: relative;
            cursor: pointer;
        }
        .key.black {
            width: 16px;
            height: 80px;
            background: black;
            position: absolute;
            top: 0;
            left: 70%;
            transform: translateX(-50%);
            z-index: 2;
        }
        .key.active {
            background: lightblue;
        }
        .sheet {
            margin-top: 20px;
            height: 100px;
            overflow-y: auto;
            background: white;
            padding: 10px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>88 键在线钢琴</h1>
    <div class="sheet" id="sheet"></div>
    <div class="piano" id="piano"></div>

    <script>
        const notes = [
            'A2', 'B2', 'C1', 'D1', 'E1', 'F1', 'G1', 'A1', 'B1',
            'C', 'D', 'E', 'F', 'G', 'A', 'B', 'c', 'd', 'e', 'f', 'g', 'a', 'b',
            'c1', 'd1', 'e1', 'f1', 'g1', 'a1', 'b1', 'c2', 'd2', 'e2', 'f2', 'g2', 'a2', 'b2',
            'c3', 'd3', 'e3', 'f3', 'g3', 'a3', 'b3', 'c4', 'd4', 'e4', 'f4', 'g4', 'a4', 'b4', 'c5'
        ];
        
        const piano = document.getElementById("piano");
        const sheet = document.getElementById("sheet");
        
        notes.forEach((note, index) => {
            const key = document.createElement("div");
            key.classList.add("key");
            key.dataset.note = note;
            if ([1, 3, 6, 8, 10, 13, 15, 18, 20, 22, 25, 27, 30, 32, 34, 37, 39, 42, 44, 46, 49, 51, 54, 56, 58, 61, 63, 66, 68, 70, 73, 75, 78, 80, 82, 85].includes(index)) {
                key.classList.add("black");
            }
            key.addEventListener("mousedown", () => playNote(note, key));
            piano.appendChild(key);
        });
        
        function playNote(note, key) {
            key.classList.add("active");
            setTimeout(() => key.classList.remove("active"), 200);
            sheet.innerHTML += note + " ";
        }
    </script>
</body>
</html>
